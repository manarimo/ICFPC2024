# 0 3
# 1 2
PATTERN = {
  [false, false] => "DRU",
  [false, true] => "RDL",
  [true, false] => "LUR",
  [true, true] => "ULD",
}
def herbert(depth, flip_s, flip_z)
  if depth == 6
    return ""
  end

  pat = PATTERN[[flip_s, flip_z]]
  res = herbert(depth+1, flip_s, !flip_z) + pat[0] +
    herbert(depth+1, flip_s, flip_z) + pat[1] +
    herbert(depth+1, flip_s, flip_z) + pat[2] +
    herbert(depth+1, !flip_s, flip_z)
  res
end

def to_svg(moves)
  points = []
  pos = [0, 0]
  points << pos.dup
  moves.each_char do |m|
    case m
    when 'D'
      pos[1] += 5
    when 'U'
      pos[1] -= 5
    when 'L'
      pos[0] -= 5
    when 'R'
      pos[0] += 5
    end
    points << pos.dup
  end
  puts '<svg viewBox="-50 -50 400 400" xmlns="http://www.w3.org/2000/svg">'
  puts "<polyline points=\"#{points.map{|p| "#{p[0]},#{p[1]}"}.join(' ')}\" fill=\"none\" stroke=\"black\"/>"
  puts '</svg>'
end
  

moves = herbert(0, false, false)
moves = "RDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDLULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURRRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURRRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDLULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUUULDLLURULURRDRUULURUULDLULDDRDLLLURUULDLULDDRDLDDRURRDLDRDLLULDLLURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURRDLDDRURDRUULURRDRURRDLDRDLLULDDDRURRDLDRDLLULDLLURUULDLULDDRDLDDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRURDRURRDLDRDLLULDDRDLDDRURDRUULURRRDLDDRURDRUULURUULDLLURULURRDRUULURUULDLULDDRDLLULDLLURULURRDRUUULDLLURULURRDRURRDLDDRURDRUULUR"
# puts moves
to_svg(moves)
