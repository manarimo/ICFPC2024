-- base64 format: [encoded: ICFP string] [prefix: ICFP integer]
-- encoded string is decoded to LRDU string and then first prefix characters are taken

-- Finally take prefix
BT

-- String length
@I2499

-- Pass the encoded string
B$

-- Bind the expanded dictionary
B$
L#
  -- Make the recursive function of Decode
  B$
    Lf B$ Lx B$ vf B$ vx vx Lx B$ vf B$ vx vx -- Fix

      -- Decode :: Self -> String -> String
      -- Decodes the first entry in the source then recursively process the rest.
      Ld Ls
        ? ( B= vs @I4 )
          S
          B.
            BT @I1 BD (B* @I1 B% vs @I4) v# -- Decode the first entry
            (B$ vd (B/ vs @I4)) -- Process the rest

-- Expand the compressed dictionary
-- The compressed data must contain a non-zero sentinel in the end.
BT @I4
-- Apply the compressed dictionary to obtain the dict
B$

-- Make the recursive Expand function
B$
-- Fix
Lf B$ Lx B$ vf B$ vx vx Lx B$ vf B$ vx vx

-- Expand :: Self -> Int -> String
Le Lp
  ? (B= vp @I0)
    S
    B.
      BT @I1 BD (B% vp @I4) @SLRDU
      B$ ve (B/ vp @I4)
@I457

-- Encoded string
@I164787820416266370964107794485254330262090165224811665875548367647903399380339406310035331957475844039612129353204088116185334553006344547312953981527341724487124685811001045554854437103053869800870642743420815583114224380642573663914918191569931328227801043490051092981436051213125376519475789241159301014374406812966104240142862930107595503158194831695671453094886880682847734645812334680661799930170300089846786876089514779856213240034624540300245094904112279001807427652870492788150116103921146869251247748445884257500216248534119012524649504658728260340668711355272974672147701626255319997684743613525075702521586768710780801345155180917075173726848919966134085230920110434393056971976956680221138979787239803037602425019556630398274716461286773613093996739829913697504834344456512247777159792553736066969672338698288742412748073922957672603303309732519653986905974731598141399299791021734642741038471308356213342817131690605614661062519636403560429302651542806114437810432901308670095428935009496995008868329006958357673913989272874500921691367303021955432654714559503647859677624976727270208144725321242010852997342044532016595317857201399618603495675845979603521429332199790630597706130814980222452647471011715138468065924922557250435661416023874742345863100938829930113170720684600023935712136414852030917716574856821194384812031014112949928457877988625973500087183894100305229116037035241497611525012031740090057753689898868488429278880434746952543059251981760542373893126449527596561169930780672


